(self.webpackChunkmall_admin=self.webpackChunkmall_admin||[]).push([[2615],{91774:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(79028);e=n.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={fetchList:o,deleteMenu:l,createMenu:u,updateMenu:i,getMenu:c,updateHidden:s,fetchTreeList:d};function o(e,t){return(0,r.Z)({url:"/menu/list/"+e,method:"get",params:t})}function l(e){return(0,r.Z)({url:"/menu/delete/"+e,method:"post"})}function u(e){return(0,r.Z)({url:"/menu/create",method:"post",data:e})}function i(e,t){return(0,r.Z)({url:"/menu/update/"+e,method:"post",data:t})}function c(e){return(0,r.Z)({url:"/menu/"+e,method:"get"})}function s(e,t){return(0,r.Z)({url:"/menu/updateHidden/"+e,method:"post",params:t})}function d(){return(0,r.Z)({url:"/menu/treeList",method:"get"})}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(a,"menuServices","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(o,"fetchList","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(l,"deleteMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(u,"createMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(i,"updateMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(c,"getMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(s,"updateHidden","c:\\Project\\mall-admin\\src\\services\\menu.js"),n.register(d,"fetchTreeList","c:\\Project\\mall-admin\\src\\services\\menu.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},2615:function(e,t,n){"use strict";n.r(t);var r=n(67294),a=n(41079);function o(){return r.createElement(a.Z,{isEdit:!1})}e=n.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,n=o,t.default=n,(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(t.register(o,"AddMenu","c:\\Project\\mall-admin\\src\\views\\ums\\menu\\add.js"),t.register(n,"default","c:\\Project\\mall-admin\\src\\views\\ums\\menu\\add.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},41079:function(e,t,n){"use strict";var r=n(35845),a=n(8834),o=n(48086),l=n(39144),u=n(14617),i=n(47933),c=n(71577),s=n(28368),d=n(67294),m=n(16550),f=n(91774);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=(0,m.TH)(),n=b(r.Z.useForm(),1)[0],p=a.Z.Option,v=e.isEdit;(0,d.useEffect)((function(){v?f.X.getMenu(t.state.id).then((function(e){n.setFieldsValue(e.data)})):n.setFieldsValue(h),L()}),[]);var h={title:"",parentId:0,name:"",icon:"",hidden:0,sort:0},y=b((0,d.useState)([]),2),g=(e=y[0],y[1]),L=function(){f.X.fetchList(0,{pageSize:100,pageNum:1}).then((function(e){(e=e.data.list).unshift({id:0,title:"No Parent"}),g(e)}))};return d.createElement(l.Z,{className:"form-container"},d.createElement(r.Z,{form:n,labelCol:{span:5},size:"small",onFinish:onsubmit,onFinishFailed:function(){return o.ZP.error("Validation Fail",10),!1}},d.createElement(r.Z.Item,{label:"MenuTitle: ",name:"title",rules:[{required:!0,message:"Please enter menu title"},{min:2,max:140,message:"Length must be between 2 and 140"}]},d.createElement(u.Z,null)),d.createElement(r.Z.Item,{label:"ParentMenu: ",name:"parentId"},d.createElement(a.Z,{placeholder:"Please select menu"},e.map((function(e){return d.createElement(p,{key:e.id,value:e.id},e.title)})))),d.createElement(r.Z.Item,{label:"Name: ",name:"name",rules:[{required:!0,message:"Please enter frontend name"},{min:2,max:140,message:"Length must be between 2 and 140"}]},d.createElement(u.Z,null)),d.createElement(r.Z.Item,{label:"Icon: ",name:"icon",rules:[{required:!0,message:"Please enter frontend icon"},{min:2,max:140,message:"Length must be between 2 and 140"}]},d.createElement(u.Z,null)),d.createElement(r.Z.Item,{label:"Hidden: ",name:"hidden"},d.createElement(i.ZP.Group,null,d.createElement(i.ZP,{value:0},"Yes"),d.createElement(i.ZP,{value:1},"No"))),d.createElement(r.Z.Item,{label:"Sort: ",name:"sort"},d.createElement(u.Z,{type:"number"})),d.createElement(r.Z.Item,null,d.createElement(c.Z,{type:"primary",onClick:function(){(0,s.default)({title:"Are you sure to submit data?",okText:"Yes",okType:"primary",onOk:function(){v?f.X.updateMenu(t.state.id,n.getFieldValue()).then((function(e){o.ZP.success("Modify Success",10),history.back()})):f.X.createMenu(n.getFieldValue()).then((function(e){o.ZP.success("Modify Success",10),history.back()}))},onCancel:function(){}})}},"Submit"),!v&&d.createElement(c.Z,{onClick:function(){n.setFieldsValue(h),L()}},"Reset"))))}e=n.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useLocation{route}\nuseForm{[menuForm]}\nuseEffect{}\nuseState{[selectMenuList, setSelectMenuList]([])}",(function(){return[m.TH]})),n=v,t.Z=n,(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(t.register(v,"MenuDetail","c:\\Project\\mall-admin\\src\\views\\ums\\menu\\components\\menuDetail.js"),t.register(n,"default","c:\\Project\\mall-admin\\src\\views\\ums\\menu\\components\\menuDetail.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}}]);